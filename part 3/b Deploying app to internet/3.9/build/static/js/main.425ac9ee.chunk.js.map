{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Persons","list","deleteHandle","map","person","name","number","value","onClick","PersonForm","submit","nameHandler","numberHandler","onSubmit","onChange","type","Filter","handler","Notification","state","message","className","baseUrl","axios","get","then","response","data","newPerson","post","id","put","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","searchName","setSearchName","successMessage","setSuccessMessage","showSuccess","setTimeout","errorMessage","setErrorMessage","showError","useEffect","personsService","catch","error","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","some","window","confirm","find","p","updatedPerson","returnedPerson","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.425ac9ee.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Persons = ({ list, deleteHandle }) =>\r\n  list.map((person) => (\r\n    <p key={person.name}>\r\n      {person.name} {person.number}{\" \"}\r\n      <button value={person.name} onClick={deleteHandle}>\r\n        delete\r\n      </button>\r\n    </p>\r\n  ));\r\n\r\nexport default Persons;\r\n","import React from \"react\";\n\nconst PersonForm = ({ submit, name, nameHandler, number, numberHandler }) => (\n  <form onSubmit={submit}>\n    <div>\n      name:\n      <input value={name} onChange={nameHandler} />\n    </div>\n    <div>\n      number:\n      <input value={number} onChange={numberHandler} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","import React from \"react\";\r\n\r\nconst Filter = ({ value, handler }) => (\r\n  <div>\r\n    filter shown with\r\n    <input value={value} onChange={handler} />\r\n  </div>\r\n);\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ state, message }) => {\r\n  return message !== null ? (\r\n    <div className={`notif ${state}`}>{message}</div>\r\n  ) : null;\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, person) => {\n  const request = axios.put(`${baseUrl}/${id}`, person);\n  return request.then((response) => response.data);\n};\n\nconst erase = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getAll,\n  create,\n  update,\n  erase,\n};\n","import React, { useState, useEffect } from \"react\";\n\nimport Persons from \"./components/Persons\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\n\nimport personsService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchName, setSearchName] = useState(\"\");\n\n  const [successMessage, setSuccessMessage] = useState(null);\n  const showSuccess = (message) => {\n    setSuccessMessage(message);\n    setTimeout(() => setSuccessMessage(null), 5000);\n  };\n\n  const [errorMessage, setErrorMessage] = useState(null);\n  const showError = (message) => {\n    setErrorMessage(`An error occured on server. ${message}`);\n    setTimeout(() => setErrorMessage(null), 5000);\n  };\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then((persons) => setPersons(persons))\n      .catch((error) => {\n        showError(`Can't load persons.`);\n      });\n  }, []);\n\n  const addName = (event) => {\n    event.preventDefault();\n    if (!persons.some((person) => person.name === newName)) {\n      const nameObject = {\n        name: newName,\n        number: newNumber,\n      };\n\n      personsService\n        .create(nameObject)\n        .then((newPerson) => {\n          setPersons(persons.concat(newPerson));\n          setNewName(\"\");\n          setNewNumber(\"\");\n          showSuccess(`${newName} was added!`);\n        })\n        .catch((error) => {\n          showError(`${newName} was not added.`);\n        });\n    } else if (\n      window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      )\n    ) {\n      const person = persons.find((p) => p.name === newName);\n      const updatedPerson = {\n        ...person,\n        number: newNumber,\n      };\n      personsService\n        .update(person.id, updatedPerson)\n        .then((returnedPerson) => {\n          setPersons(\n            persons.map((p) => (p.id !== person.id ? p : returnedPerson))\n          );\n          setNewName(\"\");\n          setNewNumber(\"\");\n          showSuccess(`${newName} was updated!`);\n        })\n        .catch((error) => {\n          showError(`${newName} was not updated.`);\n          setPersons(persons.filter((p) => p.id !== person.id));\n        });\n    }\n  };\n\n  const handleDeleteClick = (event) => {\n    let person = persons.find((p) => p.name === event.target.value);\n    window.confirm(`Delete ${person.name}`) &&\n      personsService\n        .erase(person.id)\n        .then((response) => {\n          setPersons(persons.filter((p) => p.id !== person.id));\n          showSuccess(`${event.target.value} was deleted!`);\n        })\n        .catch((error) => {\n          console.log(error);\n          showError(\n            `${event.target.value} has already been removed from server.`\n          );\n          setPersons(persons.filter((p) => p.id !== person.id));\n        });\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchName = (event) => {\n    setSearchName(event.target.value);\n  };\n\n  const personsToShow = persons.filter((person) =>\n    person.name.toLowerCase().includes(searchName.toLowerCase())\n  );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification state={\"success\"} message={successMessage} />\n      <Notification state={\"error\"} message={errorMessage} />\n\n      <Filter value={searchName} handler={handleSearchName} />\n\n      <h2>Add a new</h2>\n\n      <PersonForm\n        submit={addName}\n        name={newName}\n        nameHandler={handleNameChange}\n        number={newNumber}\n        numberHandler={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n\n      <Persons list={personsToShow} deleteHandle={handleDeleteClick} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}